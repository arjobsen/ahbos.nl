<!doctype html>
<html>
<!-- 
    TODO: 
    * Beautify code als de nieuwe Brackets op Linux wordt ondersteund
-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>&#x1f468;&#x200d;&#x1f4bb; Arjen Bos CV</title>
    
    <!-- Tailwind (https://tailwindcss.com/docs/installation/play-cdn) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- CSS -->
    <style>
        @import url('https://fonts.cdnfonts.com/css/montserrat');
        @import url('https://fonts.cdnfonts.com/css/lato');
        @import url('https://fonts.cdnfonts.com/css/roboto');
        
        .font-header {font-family: 'Montserrat', sans-serif;}
        .font-body {font-family: 'Roboto', sans-serif;}
 
        .A4-landscape {
            height: 210mm;
            width: 297mm;
        }
    </style>
    
</head>
<body class="bg-stone-200 text-stone-700 font-body">
    
    <!-- PDF maken? Unhide deze knop (met F12 in de browser) en klik daarop -->
    <div class="inline-block m-2 p-2 border border-black rounded print:hidden" style="display: none;">
        <button onclick="printPages()">Print pages 1 by 1</button>
    </div>
    <script>
        function printPages() {
            // Print alle pagina's 1 voor 1, vanwege de mix in orientatie en de marges
            const pages = document.querySelectorAll(".A4, .A4-landscape");
            
            // Verberg alle pagina's
            pages.forEach(function(page) {
                page.classList.add("hidden");
            });
                
            // Laat één voor één toch zien en print
            pages.forEach(function(page) { 
//                // Verberg alle pagina's
//                pages.forEach(function(page) {
//                    page.classList.add("hidden");
//                });
                
                page.classList.remove("hidden");
                
//                function sleep(ms) {
//                   return new Promise(resolve => setTimeout(resolve, ms));
//                }
//                sleep(5000).then(() => {
                    window.print();
//                })
                page.classList.add("hidden");
            });
            
            // Laat alle pagina's weer zien
            pages.forEach(function(page) {
                page.classList.remove("hidden");
            });
        } 
    </script>

    <!-- 
        TRACKRECORD
        Elke 5 projecten op een aparte pagina
    -->
    <!-- len() bestaat niet in Jinja2, gebruik |length filter -->
    {% for i in range(0, data.werkervaring|length, 5) %}
    <div class="A4-landscape mx-auto my-16 p-16 bg-stone-50 font-body print:m-0">
        <div class="mb-2 font-header text-4xl text-sky-900">Arjen Bos</div>
        <div class="mb-4 font-header text-xl uppercase tracking-wide text-sky-900">Track record</div>
        <div class="grid grid-cols-5">
            <!-- Elke werkervaring in een aparte kolom -->
            {% for w in data.werkervaring[i:i+5] %}
            <div>
                <div class="flex my-4">
                    <div class="my-auto h-2 w-2 rounded-full bg-stone-500"></div>
                    <div class="my-auto h-px w-full bg-stone-500"></div>
                </div>
                <div class="m-2">
                    <div class="text-sm text-stone-500">{{ w.datum }}</div>
                    <div class="text-lg text-sky-900">{{ w.functie }}</div>
                    <div class="mb-4 text-stone-500">{{ w.organisatie }}</div>
                    <ul class="mb-3 list-disc list-inside space-y-2 text-xs">
                        {% for s in w.skills %}
                        <li>{{ s }}</li>
                        {% endfor %}
                    </ul>
                    <div class="text-xs whitespace-pre-wrap">{{ w.omschrijving }}</div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endfor %}

    <div class="hidden">
        <!-- Dit is fokking raar. Als deze div hier niet staat, kan printPages() niet alle pagina's 1 voor 1 printen... -->
    </div>
    
</body>
</html>